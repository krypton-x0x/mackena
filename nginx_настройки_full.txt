
# üß† NGINX –ü–æ–ª–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞: –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Debian/Ubuntu)
```bash
sudo apt update
sudo apt install nginx -y
sudo systemctl enable nginx
sudo systemctl start nginx
```

## üìÇ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—É—Ç–∏
```bash
/etc/nginx/nginx.conf              # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
/etc/nginx/sites-available/        # –°–∞–π—Ç—ã (–¥–æ—Å—Ç—É–ø–Ω—ã–µ)
/etc/nginx/sites-enabled/          # –°–∞–π—Ç—ã (–≤–∫–ª—é—á—ë–Ω–Ω—ã–µ)
/var/www/html                      # –ö–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–∞–π—Ç–∞
```

## üöÄ –ó–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
sudo nginx -t                      # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
sudo systemctl reload nginx        # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
sudo systemctl restart nginx       # –ü–æ–ª–Ω—ã–π —Ä–µ—Å—Ç–∞—Ä—Ç
sudo systemctl status nginx        # –°—Ç–∞—Ç—É—Å
```

## üåê –ü—Ä–æ—Å—Ç–æ–π —Å–∞–π—Ç-–∫–æ–Ω—Ñ–∏–≥ (HTTP)
```nginx
server {
    listen 80;
    server_name example.com;

    root /var/www/example.com/html;
    index index.html index.htm;

    access_log /var/log/nginx/example_access.log;
    error_log /var/log/nginx/example_error.log;

    location / {
        try_files $uri $uri/ =404;
    }
}
```

## üîí HTTPS + Let's Encrypt (—á–µ—Ä–µ–∑ Certbot)
```bash
sudo apt install certbot python3-certbot-nginx -y
sudo certbot --nginx -d example.com -d www.example.com
```

## ‚öôÔ∏è –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Node.js –∏–ª–∏ –ª—é–±–æ–π –±—ç–∫–µ–Ω–¥
```nginx
server {
    listen 80;
    server_name api.example.com;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## üì¶ –°—Ç–∞—Ç–∏–∫–∞ + –∫–µ—à
```nginx
location ~* \.(jpg|jpeg|png|gif|ico|css|js|woff2|ttf|svg|webp)$ {
    expires 30d;
    access_log off;
    add_header Cache-Control "public";
}
```

## üì§ –†–µ–¥–∏—Ä–µ–∫—Ç—ã
```nginx
# HTTP ‚Üí HTTPS
server {
    listen 80;
    server_name example.com;
    return 301 https://$host$request_uri;
}

# www ‚Üí non-www
server {
    listen 80;
    server_name www.example.com;
    return 301 $scheme://example.com$request_uri;
}
```

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```nginx
add_header X-Content-Type-Options nosniff;
add_header X-Frame-Options DENY;
add_header X-XSS-Protection "1; mode=block";
```

## üîç –õ–∏–º–∏—Ç—ã –∏ –∑–∞—â–∏—Ç–∞
```nginx
client_max_body_size 50M;
limit_conn_zone $binary_remote_addr zone=conn_limit_per_ip:10m;
limit_conn conn_limit_per_ip 10;
```

## üîÑ Gzip –∏ —Å–∂–∞—Ç–∏–µ
```nginx
gzip on;
gzip_comp_level 5;
gzip_min_length 256;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml;
```

## üß† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
nginx -t                      # –ü—Ä–æ–≤–µ—Ä–∫–∞
nginx -s reload               # Reload
nginx -s stop                 # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
nginx -V                      # –í–µ—Ä—Å–∏—è + –º–æ–¥—É–ª–∏
```

## üîó –ü—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∞–π—Ç –≤ enabled:
```bash
sudo ln -s /etc/nginx/sites-available/myapp /etc/nginx/sites-enabled/
```

## üõ† –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ –∏ —Ñ–∞–µ—Ä–≤–æ–ª–∞:
```bash
sudo ss -tuln | grep 80
sudo ufw allow 'Nginx Full'
```

## ü™µ –õ–æ–≥–∏
```bash
/var/log/nginx/access.log
/var/log/nginx/error.log
```

## üö® –û—Ç–ª–∞–¥–∫–∞
```bash
curl -I http://localhost
nginx -T  # –≤—ã–≤–æ–¥ –≤—Å–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## üéØ –ü—Ä–∏–º–µ—Ä –¥–ª—è React/SPA
```nginx
location / {
    root /var/www/app;
    index index.html;
    try_files $uri /index.html;
}
```

## üéØ –ü—Ä–∏–º–µ—Ä –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞
```nginx
upstream backend {
    server 127.0.0.1:3001;
    server 127.0.0.1:3002;
}

server {
    listen 80;
    server_name app.example.com;

    location / {
        proxy_pass http://backend;
    }
}
```

–ì–æ—Ç–æ–≤–æ! –≠—Ç–æ –ø–æ–ª–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ NGINX —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ –∏ —Ä–∞–±–æ—á–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏.
